<!DOCTYPE html>
<html lang="en">

<!-- B E A R B E I T E T -->

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
    <script src="controller.js" type="text/javascript"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

</head>

<body>
    <div class="container">

        <!-- Appointments List -->
        <div class="row">
            <div class="col-sm">
                <h2>Appointments</h2>
                <ul id="appointmentsList"></ul>
            </div>
        </div>

        <!-- Appointment Details -->
        <div class="row">
            <div class="col-sm">
                <h2>Appointment Details</h2>
                <div id="appointmentDetails">
                    <h3 id="appointmentTitle"></h3>
                    <p id="appointmentLocation"></p>
                    <p id="appointmentDate"></p>
                    <p id="appointmentExpirationDate"></p>
                </div>
            </div>
        </div>

        <!-- Voting Form -->
        <div class="row">
            <div class="col-sm">
                <h2>Voting</h2>
                <div id="votingForm">
                    <p id="votingInstructions">Select available options:</p>
                    <div id="optionsList"></div>
                    <label for="comments">Comments:</label>
                    <textarea class="form-control" id="comments" rows="3"></textarea>
                    <button type="button" class="btn btn-primary" id="btnVote">Vote</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        $(document).ready(function () {
            // Load appointments list
            loadAppointments();

            // Load appointment details when an appointment is clicked
            $("#appointmentsList").on("click", "li", function () {
                var id = $(this).data("id");
                loadAppointmentDetails(id);
            });

            // Vote for selected options when the Vote button is clicked
            $("#btnVote").click(function () {
                var optionIds = [];
                $("#optionsList input:checked").each(function () {
                    optionIds.push($(this).val());
                });
                var comments = $("#comments").val();
                submitVote(optionIds, comments);
            });
        });
    </script>

</body>

</html>